"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = TemplateCredential;

var _sanitize = _interopRequireDefault(require("../utils/sanitize"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function TemplateCredential({
  title,
  issuerName,
  subjectName,
  expiryDate,
  date,
  image,
  images,
  qrImage,
  attributes
}) {
  const attributesTableRows = attributes.map(attribute => `
    <tr>
      <td><strong>${(0, _sanitize.default)(attribute.name)}</strong></td>
      <td>${(0, _sanitize.default)(attribute.value)}</td>
    </tr>
  `).join('\n');
  return `
    <div class="prettyVC prettyVC-diploma">
      <img src="${(0, _sanitize.default)(images.issuerImage || image)}" class="prettyVC-diploma-headerimage" />
      <h2 class="prettyVC-title prettyVC-diploma-title">
        ${(0, _sanitize.default)(issuerName)}
      </h2>

      ${subjectName ? `
        <p class="prettyVC-diploma-subtext">
          has issued a <strong>${(0, _sanitize.default)(title)}</strong> to
        </p>
        <h3 class="prettyVC-diploma-subtitle">
          ${(0, _sanitize.default)(subjectName)}
        </h3>
      ` : `
        <p class="prettyVC-diploma-subtext">
          has issued a <strong>${(0, _sanitize.default)(title)}</strong>
        </p>
      `}

      ${attributes.length ? `
        <br />
        <table>
          <tr>
            <th>Attribute</th>
            <th>Value</th>
          </tr>
          ${attributesTableRows}
        </table>
        <br />
      ` : ''}

      <div class="prettyVC-diploma-footer">
        <div class="prettyVC-diploma-footersubject-wrap">
          ${image ? `
            <div class="prettyVC-diploma-logo">
              <img src="${(0, _sanitize.default)(image)}" />
            </div>
          ` : ''}
          <div class="prettyVC-diploma-footersubject">
            <strong>${(0, _sanitize.default)(title)}</strong>
            <span>Issued on: ${(0, _sanitize.default)(date)}</span>
            ${expiryDate ? `
              <span>Expire at: ${(0, _sanitize.default)(expiryDate)}</span>
            ` : ''}
          </div>
        </div>

        ${qrImage ? `
          <img src="${(0, _sanitize.default)(qrImage)}" class="prettyVC-diploma-qrimage" />
        ` : ''}
      </div>
    </div>
  `;
}